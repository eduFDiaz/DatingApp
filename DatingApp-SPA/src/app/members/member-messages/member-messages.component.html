<div *ngIf="isDataLoaded; else loading" class="container mt-4">
  <div class="row" *ngIf="messageThread.length == 0">
    <h3>No messages</h3>
  </div>

  <div class="row" *ngIf="messageThread.length > 0">
    <table class="table table-hover" style="cursor: pointer;">
      <tr>
        <th style="width: 20%">From / To</th>
        <th style="width: 40%">Message</th>
        <th style="width: 20%">Sent / Received</th>
        <th style="width: 20%"></th>
      </tr>
      <tr *ngFor="let message of messageThread" [routerLink]="['/members', message.id]">
        <td>
            <div>
                  <img src={{message?.senderPhotoUrl}} class="img-circle rounded-circle mr-1">
            </div>
        </td>
        <td>{{message.content}}</td>
        <td>{{message.messageSentDate | timeAgo}}</td>
        <td>
          <button class="btn btn-danger">Delete</button>
        </td>
      </tr>
    </table>
</div>
<ng-template #loading>
  <ngx-spinner
    bdColor="rgba(51,51,51,0.8)"
    size="large"
    color="#fff"
    type="ball-scale-multiple"
  >
    <p style="font-size: 20px; color: white">Loading...</p>
  </ngx-spinner>
</ng-template>
